# 選択したテキストのフォント名、フォントサイズなどをテキストとして生成する

[![Direct](https://img.shields.io/badge/Direct%20Link-AddTextInfoLabel.jsx-ffcc00.svg)](https://github.com/swwwitch/illustrator-scripts/blob/master/jsx/fonts/AddTextInfoLabel.jsx)		

[![Direct](https://img.shields.io/badge/Back%20to%20home-All%20scripts-cccccc.svg)](https://github.com/swwwitch/illustrator-scripts/blob/master/README.md)

---

## スクリプトの概要：

選択されたテキストオブジェクトの下または右に、フォント情報を表示します。

- 表示形式：「詳細」（エリア内文字・右揃え）または「簡易版」（ポイント文字・左揃え）を選択可能。
- ダイアログでは表示項目を個別にON/OFFでき、すべてON／すべてOFF／最小セットのボタンも用意されています。
- 「簡易版」を選択中は、表示項目セクションをディム表示します（無効化）。

## 【詳細表示】（エリア内文字）：

- 行数に応じて自動で高さを計算し、さらに2行分の余白を追加します。
- 「下」を選ぶとアウトライン化を想定した下端に、「右」を選ぶと左下基準で右に配置します。
- spacing に 2mm の余白が自動で追加されます。
- 情報は右揃えで整形されます。
- 行送りは「フォントサイズ × 1.6」で固定されます。

## 【簡易表示】（ポイント文字）：

- 文字サイズ分下、または右に配置され、左揃えで表示されます。
- 文字ツメには「%」を付けて表示します。
- 行送りは「フォントサイズ × 1.6」で固定されます。

## 【共通仕様】：

- 行送りは「自動（xx pt）」または「xx pt」で表示。
- 行送り（%）は実際の行送り値 ÷ フォントサイズ で計算し、小数第2位で四捨五入・ゼロも保持して表示。
- 文字ツメは小数第2位で四捨五入、末尾.0は省略（例：21 → 21、20.1 → 20.1）。
- 情報は「フォント情報」レイヤーに配置され、生成されたテキストは選択状態になります。

作成日：2025-04-20
更新日：2025-04-23（表示項目の無効化制御とspacing設定を追加）
最終更新日：2025-04-24（行送り（%）の誤判定を修正し、正確な表示に対応）

<img alt="" src="ss-446-742-72-20250430-182416](https://github.com/user-attachments/assets/cec5ce38-37d4-4248-bd61-9daec334a213" width="50%" />

- 表示形式は「詳細表示」と「簡易表示」から選択可能
- 詳細表示はエリア内文字、簡易版はポイント文字で出力される
- 詳細表示のとき、表示内容はチェックボックスでカスタマイズ可能。
    
    「すべてON/OFF」ボタン、「最小セット」ボタンで切り換え

次の情報を拾えます。

- フォント名 *
- PSフォント名
- スタイル（ウエイト） *
- フォントサイズ *
- 行送り *
- カーニング *
- プロポーショナルメトリクス *
- トラッキング *
- 文字ツメ *

簡易版のときには「 *」が対象です。

### note

[【Illustrator】選択したテキストのフォント名、フォントサイズなどをテキストとして生成する｜DTP Transit 別館](https://note.com/dtp_tranist/n/n607ef418877f)

### 動画

[https://youtu.be/8ClvEwyFoAw](https://youtu.be/8ClvEwyFoAw)